import{x as nt,r as zt,cb as Et,aj as Gt,cc as It,ak as Pt,cd as Ut,ce as Vt,z as St,cf as Bt,cg as Jt,ch as Ot,ci as Tt,j as a,cj as vt,ck as Kt,cl as Lt,cm as Qt,cn as Wt,co as Xt,bq as Ht,cp as qt,cq as At,ba as Yt,bJ as Zt,__tla as te}from"./index-StZz2sD-.js";import{c as ee,u as oe,b as ie,__tla as le}from"./edit-page-DVsJ5OUI.js";import{g as re}from"./links-xiQ_O8X2.js";import{__tla as ae}from"./storage-VLG_EHzh.js";import"./index-BTeNT_Tt.js";import"./index-Co5sPjJc.js";import"./index-Bm5j99kK.js";import"./index-OdZ649Ww.js";import"./index-C5GV-DhP.js";import"./index-ByYzywJk.js";import"./index-CuFO3AB8.js";import"./index-QpAlOfLT.js";import"./index-Dut0n0LK.js";import"./index-CMLEU4vI.js";import"./index-0ZBpRFZW.js";import"./index-DXqCSfYv.js";import"./index-zdTab9tW.js";import"./apl-CXdQSnD-.js";import"./asciiarmor-D5V0T9Cu.js";import"./asn1-DWPaVWf6.js";import"./brainfuck-CtZaYBKt.js";import"./cobol-stawOqaz.js";import"./clike-BgBwzOhw.js";import"./clojure-DiuoqK-z.js";import"./css-ZjFoif2m.js";import"./cmake-DXn5xaP-.js";import"./coffeescript-BTDxI-eT.js";import"./commonlisp-vq6DHwts.js";import"./cypher-gJDei3ni.js";import"./python-DD-Q2bae.js";import"./crystal-CRzZ78HM.js";import"./d-BShv7fp-.js";import"./diff-UJJ5BM9S.js";import"./dtd-DI9Herc-.js";import"./dylan-DkEP81N9.js";import"./ecl-DPFc0Uaf.js";import"./eiffel-DR5c0IrL.js";import"./elm-DompmV0j.js";import"./erlang-BuqgqA5h.js";import"./factor-CFXhaUWb.js";import"./simple-mode-C3vEBAcb.js";import"./forth-POgR1ypr.js";import"./fortran-DL7KluxX.js";import"./mllike-3c2dg9RT.js";import"./gas-bV0CklSb.js";import"./gherkin-B6X1vGSW.js";import"./groovy-DnIzCrpZ.js";import"./haskell-CLQs6EAM.js";import"./haxe-D25e-2l-.js";import"./idl-pcmmZuaN.js";import"./javascript-BpzJj0-u.js";import"./jinja2-DhgKlfW7.js";import"./julia-DjdwvFuI.js";import"./livescript-HO6ttBFx.js";import"./lua-8DXOpKDz.js";import"./mirc-DkvFAiy5.js";import"./mathematica-IIbmv7SK.js";import"./modelica-DSrSSXCg.js";import"./mumps-zvxmGV4l.js";import"./mbox-z_N2Mo3d.js";import"./nsis-BvKfQ9lQ.js";import"./ntriples-BSwWqoLa.js";import"./octave-C4hdQ5Hf.js";import"./oz-qQq7irPq.js";import"./pascal-CafrKXZF.js";import"./perl-tdMlh9QA.js";import"./pig-CwGJVRC4.js";import"./powershell-D1ly3AHC.js";import"./properties-_nPj978X.js";import"./protobuf-B4y9do6W.js";import"./pug-BTvK5tSS.js";import"./puppet-Bc-yJKzi.js";import"./q-B0kTJ4cI.js";import"./r-BA4EbLKE.js";import"./rpm-DI_rRufH.js";import"./ruby-CR-u2WLS.js";import"./sas-Bqaci40L.js";import"./scheme-qjP0V5Ag.js";import"./shell-BLav31RL.js";import"./sieve-r025o_jW.js";import"./smalltalk-C7J3IyEP.js";import"./sparql-BRLJFz69.js";import"./stylus-Bdo_Aemu.js";import"./swift-B_XXVlXX.js";import"./verilog-B4LBqg_1.js";import"./tcl-B2fODqDH.js";import"./textile-BuVhTOzU.js";import"./toml-wcPdHu67.js";import"./troff-Ce85hlLp.js";import"./ttcn-BxnYHtq8.js";import"./ttcn-cfg-CKJxb-l2.js";import"./turtle-BkSuIpt-.js";import"./webidl-CGwyPRYs.js";import"./vb-BHgjm0DN.js";import"./vbscript-Dawdd5GZ.js";import"./velocity-BdD_26Jv.js";import"./vhdl-CWWH2SUo.js";import"./xquery-CVDBqZPY.js";import"./yacas-I8QjZlxf.js";import"./z80-D8p3gKXp.js";import"./mscgen-B2igx18G.js";import"./index-PsA_OWtk.js";import"./trash-UWzp31DZ.js";import"./_createAggregator-D2w-TTce.js";import"./_baseEach-b7jKF32j.js";import{__tla as ne}from"./loro_wasm_bg-C1ks32Vm.js";let Ft,pe=Promise.all([(()=>{try{return te}catch{}})(),(()=>{try{return le}catch{}})(),(()=>{try{return ae}catch{}})(),(()=>{try{return ne}catch{}})()]).then(async()=>{function Dt(){const e=nt.c(7);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[],e[0]=s):s=e[0];const[r,C]=(function(m,h){const l=nt.c(11);let _;l[0]!==h?(_=new Et(h),l[0]=h,l[1]=_):_=l[1];const u=_;let x;l[2]!==m||l[3]!==u?(x=()=>u.get(m),l[2]=m,l[3]=u,l[4]=x):x=l[4];const[b,j]=zt.useState(x);let g;l[5]!==m||l[6]!==u?(g=w=>{j(w),u.set(m,w)},l[5]=m,l[6]=u,l[7]=g):g=l[7];const f=g;let y;return l[8]!==f||l[9]!==b?(y=[b,f],l[8]=f,l[9]=b,l[10]=y):y=l[10],y})("marimo:commands",s);let c,n;return e[1]!==r||e[2]!==C?(c=m=>{const h=(l=[m,...r],[...new Set(l)]);var l;C(h.slice(0,3))},e[1]=r,e[2]=C,e[3]=c):c=e[3],e[4]!==r||e[5]!==c?(n={recentCommands:r,addRecentCommand:c},e[4]=r,e[5]=c,e[6]=n):n=e[6],n}function xt(e){return e.dropdown!==void 0}function U(e,s=""){return e.flatMap(r=>r.label?xt(r)?U(r.dropdown,`${s+r.label} > `):{...r,label:s+r.label}:[])}function Mt(e){return!e.hidden}Ft=()=>{const e=nt.c(37),[s,r]=Ut(ee),C=Vt(),c=St(Bt),n=St(Jt);let m;e[0]!==c?(m={cell:c},e[0]=c,e[1]=m):m=e[1];let h=oe(m).flat();h=U(h);const l=(function(){const t=nt.c(73),[o,k]=Gt(),[p,F]=It(),{saveAppConfig:S,saveUserConfig:bt}=Pt();let O;t[0]!==bt||t[1]!==k?(O=async d=>{await bt({config:d}).then(()=>{k(d)})},t[0]=bt,t[1]=k,t[2]=O):O=t[2];const i=O;let T;t[3]!==S||t[4]!==F?(T=async d=>{await S({config:d}).then(()=>{F(d)})},t[3]=S,t[4]=F,t[5]=T):T=t[5];const P=T;let K;if(t[6]!==p||t[7]!==o||t[8]!==P||t[9]!==i){let d,L,Q,W,X;t[11]!==p?(d=at=>at!==p.width,t[11]=p,t[12]=d):d=t[12],t[13]!==p||t[14]!==P?(L=at=>({label:`App config > Set width=${at}`,handle:()=>{P({...p,width:at})}}),t[13]=p,t[14]=P,t[15]=L):L=t[15],t[16]!==o||t[17]!==i?(Q={label:"Config > Set theme: dark",handle:()=>{i({...o,display:{...o.display,theme:"dark"}})}},t[16]=o,t[17]=i,t[18]=Q):Q=t[18],t[19]!==o||t[20]!==i?(W={label:"Config > Set theme: light",handle:()=>{i({...o,display:{...o.display,theme:"light"}})}},t[19]=o,t[20]=i,t[21]=W):W=t[21],t[22]!==o||t[23]!==i?(X={label:"Config > Set theme: system",handle:()=>{i({...o,display:{...o.display,theme:"system"}})}},t[22]=o,t[23]=i,t[24]=X):X=t[24];const gt=o.keymap.preset==="vim";let D,Y;t[25]!==o||t[26]!==i?(D=()=>{i({...o,keymap:{...o.keymap,preset:"vim"}})},t[25]=o,t[26]=i,t[27]=D):D=t[27],t[28]!==gt||t[29]!==D?(Y={label:"Config > Switch keymap to VIM",hidden:gt,handle:D},t[28]=gt,t[29]=D,t[30]=Y):Y=t[30];const ft=o.keymap.preset==="default";let M,Z,N;t[31]!==o||t[32]!==i?(M=()=>{i({...o,keymap:{...o.keymap,preset:"default"}})},t[31]=o,t[32]=i,t[33]=M):M=t[33],t[34]!==ft||t[35]!==M?(Z={label:"Config > Switch keymap to default (current: VIM)",hidden:ft,handle:M},t[34]=ft,t[35]=M,t[36]=Z):Z=t[36],t[37]!==o||t[38]!==i?(N=()=>{i({...o,completion:{...o.completion,copilot:!1}})},t[37]=o,t[38]=i,t[39]=N):N=t[39];const yt=o.completion.copilot!=="github";let tt,R;t[40]!==N||t[41]!==yt?(tt={label:"Config > Disable GitHub Copilot",handle:N,hidden:yt},t[40]=N,t[41]=yt,t[42]=tt):tt=t[42],t[43]!==o||t[44]!==i?(R=()=>{i({...o,completion:{...o.completion,copilot:"github"}})},t[43]=o,t[44]=i,t[45]=R):R=t[45];const _t=o.completion.copilot==="github";let et;t[46]!==R||t[47]!==_t?(et={label:"Config > Enable GitHub Copilot",handle:R,hidden:_t},t[46]=R,t[47]=_t,t[48]=et):et=t[48];const jt=!o.display.reference_highlighting;let $,ot,z,it;t[49]!==o||t[50]!==i?($=()=>{i({...o,display:{...o.display,reference_highlighting:!1}})},t[49]=o,t[50]=i,t[51]=$):$=t[51],t[52]!==jt||t[53]!==$?(ot={label:"Config > Disable reference highlighting",hidden:jt,handle:$},t[52]=jt,t[53]=$,t[54]=ot):ot=t[54],t[55]!==o||t[56]!==i?(z=()=>{i({...o,display:{...o.display,reference_highlighting:!0}})},t[55]=o,t[56]=i,t[57]=z):z=t[57],t[58]!==o.display.reference_highlighting||t[59]!==z?(it={label:"Config > Enable reference highlighting",hidden:o.display.reference_highlighting,handle:z},t[58]=o.display.reference_highlighting,t[59]=z,t[60]=it):it=t[60];const kt=o.display.cell_output==="above";let E,lt;t[61]!==o||t[62]!==i?(E=()=>{i({...o,display:{...o.display,cell_output:"above"}})},t[61]=o,t[62]=i,t[63]=E):E=t[63],t[64]!==kt||t[65]!==E?(lt={label:"Config > Set cell output area: above",hidden:kt,handle:E},t[64]=kt,t[65]=E,t[66]=lt):lt=t[66];const Ct=o.display.cell_output==="below";let G,rt;t[67]!==o||t[68]!==i?(G=()=>{i({...o,display:{...o.display,cell_output:"below"}})},t[67]=o,t[68]=i,t[69]=G):G=t[69],t[70]!==Ct||t[71]!==G?(rt={label:"Config > Set cell output area: below",hidden:Ct,handle:G},t[70]=Ct,t[71]=G,t[72]=rt):rt=t[72],K=[...re().filter(d).map(L),Q,W,X,Y,Z,tt,et,ot,it,lt,rt].filter(Mt),t[6]=p,t[7]=o,t[8]=P,t[9]=i,t[10]=K}else K=t[10];return K})();let _=ie();_=[...U(_),...U(l)];const u=_.filter(Nt),x=Ot.keyBy(u,Rt),{recentCommands:b,addRecentCommand:j}=Dt();let g;e[2]!==b?(g=new Set(b),e[2]=b,e[3]=g):g=e[3];const f=g;let y,w;e[4]!==n||e[5]!==r?(y=t=>{Xt(n.getHotkey("global.commandPalette").key)(t)&&(t.preventDefault(),r($t))},e[4]=n,e[5]=r,e[6]=y):y=e[6],Tt(document,"keydown",y),e[7]!==j||e[8]!==n||e[9]!==C||e[10]!==r?(w=(t,o)=>{const k=C[t];if(!k)return null;const p=n.getHotkey(t);return a.jsxs(Ht,{disabled:o.disabled,onSelect:()=>{j(t),r(!1),requestAnimationFrame(()=>{k()})},value:p.name,children:[a.jsxs("span",{children:[p.name,o.tooltip&&a.jsx("span",{className:"ml-2",children:o.tooltip})]}),a.jsx(qt,{children:a.jsx(At,{shortcut:p.key})})]},t)},e[7]=j,e[8]=n,e[9]=C,e[10]=r,e[11]=w):w=e[11];const wt=w;let V;e[12]!==j||e[13]!==n||e[14]!==r?(V=t=>{const{label:o,handle:k,props:p,hotkey:F}=t,S=p===void 0?{}:p;return a.jsxs(Ht,{disabled:S.disabled,onSelect:()=>{j(o),r(!1),requestAnimationFrame(()=>{k()})},value:o,children:[a.jsxs("span",{children:[o,S.tooltip&&a.jsxs("span",{className:"ml-2",children:["(",S.tooltip,")"]})]}),F&&a.jsx(qt,{children:a.jsx(At,{shortcut:n.getHotkey(F).key})})]},o)},e[12]=j,e[13]=n,e[14]=r,e[15]=V):V=e[15];const I=V,pt=Wt;let v;e[16]===Symbol.for("react.memo_cache_sentinel")?(v=a.jsx(Yt,{placeholder:"Type to search..."}),e[16]=v):v=e[16];const mt=Qt;let H;e[17]===Symbol.for("react.memo_cache_sentinel")?(H=a.jsx(Zt,{children:"No results found."}),e[17]=H):H=e[17];const st=b.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(vt,{heading:"Recently Used",children:b.map(t=>{const o=x[t];return Kt(t)?wt(t,{disabled:o==null?void 0:o.disabled,tooltip:o==null?void 0:o.tooltip}):o&&!xt(o)?I({label:o.label,handle:o.handleHeadless||o.handle,props:{disabled:o.disabled,tooltip:o.tooltip}}):null})}),a.jsx(Lt,{})]}),ct=vt,dt=n.iterate().map(t=>{if(f.has(t))return null;const o=x[t];return wt(t,{disabled:o==null?void 0:o.disabled,tooltip:o==null?void 0:o.tooltip})}),ht=u.map(t=>f.has(t.label)?null:I({label:t.label,handle:t.handleHeadless||t.handle,props:{disabled:t.disabled,tooltip:t.tooltip}}));let B;e[18]!==f||e[19]!==I?(B=t=>f.has(t.label)?null:I({label:`Cell > ${t.label}`,handle:t.handleHeadless||t.handle,props:{disabled:t.disabled,tooltip:t.tooltip}}),e[18]=f,e[19]=I,e[20]=B):B=e[20];const ut=h.map(B);let q,A,J;return e[21]!==ct||e[22]!==ht||e[23]!==ut||e[24]!==dt?(q=a.jsxs(ct,{heading:"Commands",children:[dt,ht,ut]}),e[21]=ct,e[22]=ht,e[23]=ut,e[24]=dt,e[25]=q):q=e[25],e[26]!==mt||e[27]!==q||e[28]!==H||e[29]!==st?(A=a.jsxs(mt,{children:[H,st,q]}),e[26]=mt,e[27]=q,e[28]=H,e[29]=st,e[30]=A):A=e[30],e[31]!==pt||e[32]!==s||e[33]!==r||e[34]!==A||e[35]!==v?(J=a.jsxs(pt,{open:s,onOpenChange:r,children:[v,A]}),e[31]=pt,e[32]=s,e[33]=r,e[34]=A,e[35]=v,e[36]=J):J=e[36],J};function Nt(e){return!e.hotkey}function Rt(e){return e.label}function $t(e){return!e}});export{pe as __tla,Ft as default};
