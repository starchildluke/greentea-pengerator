import{c as ue,ai as xe,cx as ye,x as fe,cy as we,aj as Ne,bE as ke,r as me,bm as Se,F as Ce,ak as ze,cz as u,al as Oe,cd as Ae,z as He,cA as Z,cB as Ie,G as Le,j as t,bH as Ee,cC as Pe,ao as $,aN as Q,S as Re,cD as _e,cE as De,cF as Fe,__tla as Me}from"./index-StZz2sD-.js";import{H as Be,d as Ge,__tla as qe}from"./edit-page-DVsJ5OUI.js";import{h as Ve,i as Ue,__tla as Je}from"./storage-VLG_EHzh.js";import{B as Ke}from"./between-horizontal-start-BrmUizGs.js";import"./links-xiQ_O8X2.js";import"./_createAggregator-D2w-TTce.js";import"./_baseEach-b7jKF32j.js";import{__tla as We}from"./loro_wasm_bg-C1ks32Vm.js";import"./index-BTeNT_Tt.js";import"./index-Co5sPjJc.js";import"./index-Bm5j99kK.js";import"./index-OdZ649Ww.js";import"./index-C5GV-DhP.js";import"./index-ByYzywJk.js";import"./index-CuFO3AB8.js";import"./index-QpAlOfLT.js";import"./index-Dut0n0LK.js";import"./index-CMLEU4vI.js";import"./index-0ZBpRFZW.js";import"./index-DXqCSfYv.js";import"./index-zdTab9tW.js";import"./apl-CXdQSnD-.js";import"./asciiarmor-D5V0T9Cu.js";import"./asn1-DWPaVWf6.js";import"./brainfuck-CtZaYBKt.js";import"./cobol-stawOqaz.js";import"./clike-BgBwzOhw.js";import"./clojure-DiuoqK-z.js";import"./css-ZjFoif2m.js";import"./cmake-DXn5xaP-.js";import"./coffeescript-BTDxI-eT.js";import"./commonlisp-vq6DHwts.js";import"./cypher-gJDei3ni.js";import"./python-DD-Q2bae.js";import"./crystal-CRzZ78HM.js";import"./d-BShv7fp-.js";import"./diff-UJJ5BM9S.js";import"./dtd-DI9Herc-.js";import"./dylan-DkEP81N9.js";import"./ecl-DPFc0Uaf.js";import"./eiffel-DR5c0IrL.js";import"./elm-DompmV0j.js";import"./erlang-BuqgqA5h.js";import"./factor-CFXhaUWb.js";import"./simple-mode-C3vEBAcb.js";import"./forth-POgR1ypr.js";import"./fortran-DL7KluxX.js";import"./mllike-3c2dg9RT.js";import"./gas-bV0CklSb.js";import"./gherkin-B6X1vGSW.js";import"./groovy-DnIzCrpZ.js";import"./haskell-CLQs6EAM.js";import"./haxe-D25e-2l-.js";import"./idl-pcmmZuaN.js";import"./javascript-BpzJj0-u.js";import"./jinja2-DhgKlfW7.js";import"./julia-DjdwvFuI.js";import"./livescript-HO6ttBFx.js";import"./lua-8DXOpKDz.js";import"./mirc-DkvFAiy5.js";import"./mathematica-IIbmv7SK.js";import"./modelica-DSrSSXCg.js";import"./mumps-zvxmGV4l.js";import"./mbox-z_N2Mo3d.js";import"./nsis-BvKfQ9lQ.js";import"./ntriples-BSwWqoLa.js";import"./octave-C4hdQ5Hf.js";import"./oz-qQq7irPq.js";import"./pascal-CafrKXZF.js";import"./perl-tdMlh9QA.js";import"./pig-CwGJVRC4.js";import"./powershell-D1ly3AHC.js";import"./properties-_nPj978X.js";import"./protobuf-B4y9do6W.js";import"./pug-BTvK5tSS.js";import"./puppet-Bc-yJKzi.js";import"./q-B0kTJ4cI.js";import"./r-BA4EbLKE.js";import"./rpm-DI_rRufH.js";import"./ruby-CR-u2WLS.js";import"./sas-Bqaci40L.js";import"./scheme-qjP0V5Ag.js";import"./shell-BLav31RL.js";import"./sieve-r025o_jW.js";import"./smalltalk-C7J3IyEP.js";import"./sparql-BRLJFz69.js";import"./stylus-Bdo_Aemu.js";import"./swift-B_XXVlXX.js";import"./verilog-B4LBqg_1.js";import"./tcl-B2fODqDH.js";import"./textile-BuVhTOzU.js";import"./toml-wcPdHu67.js";import"./troff-Ce85hlLp.js";import"./ttcn-BxnYHtq8.js";import"./ttcn-cfg-CKJxb-l2.js";import"./turtle-BkSuIpt-.js";import"./webidl-CGwyPRYs.js";import"./vb-BHgjm0DN.js";import"./vbscript-Dawdd5GZ.js";import"./velocity-BdD_26Jv.js";import"./vhdl-CWWH2SUo.js";import"./xquery-CVDBqZPY.js";import"./yacas-I8QjZlxf.js";import"./z80-D8p3gKXp.js";import"./mscgen-B2igx18G.js";import"./index-PsA_OWtk.js";import"./trash-UWzp31DZ.js";let ve,Xe=Promise.all([(()=>{try{return Me}catch{}})(),(()=>{try{return qe}catch{}})(),(()=>{try{return Je}catch{}})(),(()=>{try{return We}catch{}})()]).then(async()=>{let le,ce,D,ne,pe,de,he;le=ue("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]]),ce=ue("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),D=ye("marimo:scratchpadHistory:v1",[]),ne=xe(!1),pe=xe(null,(e,i,s)=>{if(!(s=s.trim()))return;const m=e(D),x=[s,...m.filter(L=>L!==s)].slice(0,15);i(D,x)}),de={hide_code:!1,disabled:!1},he=()=>{const e=fe.c(84),i=we(),[s]=Ne(),{theme:m}=ke(),x=me.useRef(null),L=Se(),{createNewCell:T,updateCellCode:f}=Ce(),{sendRunScratchpad:_}=ze(),a=i.cellRuntime[u],ee=a==null?void 0:a.output,v=a==null?void 0:a.status,te=a==null?void 0:a.consoleOutputs,oe=i.cellData[u],r=(oe==null?void 0:oe.code)??"",re=Oe(pe),[o,l]=Ae(ne),g=He(D);let F;e[0]!==re||e[1]!==r||e[2]!==_?(F=()=>{_({code:r}),re(r)},e[0]=re,e[1]=r,e[2]=_,e[3]=F):F=e[3];const j=Z(F);let M;e[4]!==r||e[5]!==T||e[6]!==L?(M=()=>{r.trim()&&T({code:r,before:!1,cellId:L??"__end__"})},e[4]=r,e[5]=T,e[6]=L,e[7]=M):M=e[7];const E=Z(M);let B;e[8]!==_||e[9]!==f?(B=()=>{f({cellId:u,code:"",formattingChange:!1}),_({code:""});const d=x.current;d&&d.dispatch({changes:{from:0,to:d.state.doc.length,insert:""}})},e[8]=_,e[9]=f,e[10]=B):B=e[10];const P=Z(B);let G;e[11]!==l||e[12]!==f?(G=d=>{l(!1),f({cellId:u,code:d,formattingChange:!1});const h=x.current;h&&h.dispatch({changes:{from:0,to:h.state.doc.length,insert:d}})},e[11]=l,e[12]=f,e[13]=G):G=e[13];const R=Z(G),[ie,ge]=me.useState();let b,y,w,N,c,n,p,k,q;if(e[14]!==r||e[15]!==te||e[16]!==P||e[17]!==E||e[18]!==j||e[19]!==R||e[20]!==g||e[21]!==o||e[22]!==ie||e[23]!==ee||e[24]!==l||e[25]!==v||e[26]!==m||e[27]!==s){const d=()=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"overflow-auto shrink-0 max-h-[40%]",children:t.jsx(Ge,{theme:m,showPlaceholder:!1,id:u,code:r,config:de,status:"idle",serializedEditorState:null,runCell:j,userConfig:s,editorViewRef:x,setEditorView:Y=>{x.current=Y},hidden:!1,showHiddenCode:_e.NOOP,languageAdapter:ie,setLanguageAdapter:ge})}),t.jsx("div",{className:"flex-1 overflow-auto shrink-0",children:t.jsx(De,{allowExpand:!1,output:ee,className:"output-area",cellId:u,stale:!1,loading:!1})}),t.jsx("div",{className:"overflow-auto shrink-0 max-h-[35%]",children:t.jsx(Ue,{consoleOutputs:te,className:"overflow-auto",stale:!1,cellName:Fe,onSubmitDebugger:_e.NOOP,cellId:u,debuggerActive:!1})})]});let h;e[35]!==R||e[36]!==g||e[37]!==o||e[38]!==m?(h=()=>o?t.jsx("div",{className:"absolute inset-0 z-100 bg-background p-3 border-none overflow-auto",children:t.jsx("div",{className:"overflow-auto flex flex-col gap-3",children:g.map((Y,be)=>t.jsx("div",{className:"border rounded-md hover:shadow-sm cursor-pointer hover:border-input overflow-hidden",onClick:()=>R(Y),children:t.jsx(me.Suspense,{children:t.jsx(Ee,{language:"python",theme:m,basicSetup:{highlightActiveLine:!1,highlightActiveLineGutter:!1},value:Y.trim(),editable:!1,readOnly:!0})})},be))})}):null,e[35]=R,e[36]=g,e[37]=o,e[38]=m,e[39]=h):h=e[39];const je=h;let V,U,S,J,C,K,z,O,W;N="flex flex-col h-full overflow-hidden divide-y",e[40]===Symbol.for("react.memo_cache_sentinel")?(c=Ie.create(u),n=t.jsx("p",{className:"mx-2 my-2 text-muted-foreground text-sm",children:"Use this scratchpad cell to experiment with code without restrictions on variable names. Scratchpad code is ephemeral: variables defined in the scratchpad aren't saved to notebook memory, and the code is not saved in the notebook file."}),e[40]=c,e[41]=n):(c=e[40],n=e[41]),e[42]===Symbol.for("react.memo_cache_sentinel")?(V=Pe("cell.run"),e[42]=V):V=e[42],e[43]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(Ve,{color:"var(--grass-11)",size:16}),e[43]=U):U=e[43],e[44]!==j||e[45]!==o?(S=t.jsx($,{content:V,children:t.jsx(Q,{"data-testid":"scratchpad-run-button",onClick:j,disabled:o,variant:"text",size:"xs",children:U})}),e[44]=j,e[45]=o,e[46]=S):S=e[46],e[47]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(le,{size:16}),e[47]=J):J=e[47],e[48]!==P||e[49]!==o?(C=t.jsx($,{content:"Clear code and outputs",children:t.jsx(Q,{disabled:o,size:"xs",variant:"text",onClick:P,children:J})}),e[48]=P,e[49]=o,e[50]=C):C=e[50],e[51]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(Ke,{size:16}),e[51]=K):K=e[51],e[52]!==E||e[53]!==o?(z=t.jsx(Be,{children:t.jsx($,{content:"Insert code",children:t.jsx(Q,{disabled:o,size:"xs",variant:"text",onClick:E,children:K})})}),e[52]=E,e[53]=o,e[54]=z):z=e[54],e[55]!==v?(O=(v==="running"||v==="queued")&&t.jsx(Re,{className:"inline",size:"small"}),e[55]=v,e[56]=O):O=e[56],e[57]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("div",{className:"flex-1"}),e[57]=W):W=e[57];const ae=o&&"bg-(--sky-3) rounded-none";let A,H;e[58]!==ae?(A=Le(ae),e[58]=ae,e[59]=A):A=e[59],e[60]!==o||e[61]!==l?(H=()=>l(!o),e[60]=o,e[61]=l,e[62]=H):H=e[62];const se=g.length===0;let X,I;e[63]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(ce,{size:16}),e[63]=X):X=e[63],e[64]!==A||e[65]!==H||e[66]!==se?(I=t.jsx($,{content:"Toggle history",children:t.jsx(Q,{size:"xs",variant:"text",className:A,onClick:H,disabled:se,children:X})}),e[64]=A,e[65]=H,e[66]=se,e[67]=I):I=e[67],e[68]!==S||e[69]!==C||e[70]!==z||e[71]!==O||e[72]!==I?(p=t.jsxs("div",{className:"flex items-center shrink-0",children:[S,C,z,O,W,I]}),e[68]=S,e[69]=C,e[70]=z,e[71]=O,e[72]=I,e[73]=p):p=e[73],y="flex-1 divide-y relative overflow-hidden flex flex-col",w=d(),b=je(),e[14]=r,e[15]=te,e[16]=P,e[17]=E,e[18]=j,e[19]=R,e[20]=g,e[21]=o,e[22]=ie,e[23]=ee,e[24]=l,e[25]=v,e[26]=m,e[27]=s,e[28]=b,e[29]=y,e[30]=w,e[31]=N,e[32]=c,e[33]=n,e[34]=p}else b=e[28],y=e[29],w=e[30],N=e[31],c=e[32],n=e[33],p=e[34];return e[74]!==b||e[75]!==y||e[76]!==w?(k=t.jsxs("div",{className:y,children:[w,b]}),e[74]=b,e[75]=y,e[76]=w,e[77]=k):k=e[77],e[78]!==k||e[79]!==N||e[80]!==c||e[81]!==n||e[82]!==p?(q=t.jsxs("div",{className:N,id:c,children:[n,p,k]}),e[78]=k,e[79]=N,e[80]=c,e[81]=n,e[82]=p,e[83]=q):q=e[83],q},ve=()=>{const e=fe.c(1);let i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(he,{}),e[0]=i):i=e[0],i}});export{Xe as __tla,ve as default};
