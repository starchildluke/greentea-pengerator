import{x as M,G as K,aY as Pe,aZ as Ee,j as n,a_ as Le,a$ as ae,ai as se,b0 as Ae,b1 as Ie,b2 as Ve,b3 as ne,b4 as ze,a as S,al as re,b5 as oe,z as Q,b6 as le,b7 as Me,b8 as me,M as ce,b9 as ie,aN as W,U as de,ba as Oe,bb as Be,bc as Ke,bd as Re,be as Ue,ak as Ze,bf as Ge,bg as He,ao as X,bh as Je,bi as pe,bj as ue,bk as Y,bl as Qe,bm as We,F as Xe,bn as he,bo as be,bp as xe,bq as ee,br as Ye,bs as et,bt as tt,av as at,bu as st,bv as fe,bw as nt,bx as rt,by as ot,bz as lt,C as mt,bA as ct,bB as it,bC as dt,__tla as pt}from"./index-StZz2sD-.js";import{d as ut,e as ht,__tla as bt}from"./storage-VLG_EHzh.js";import{P as xt}from"./empty-state-BihAqBDu.js";import{A as ge,__tla as ft}from"./edit-page-DVsJ5OUI.js";import{s as je}from"./sortBy-4KXyROF_.js";import"./index-BTeNT_Tt.js";import"./index-Co5sPjJc.js";import"./index-Bm5j99kK.js";import"./index-OdZ649Ww.js";import"./index-C5GV-DhP.js";import"./index-ByYzywJk.js";import"./index-CuFO3AB8.js";import"./index-QpAlOfLT.js";import"./index-Dut0n0LK.js";import"./index-CMLEU4vI.js";import"./index-0ZBpRFZW.js";import"./index-DXqCSfYv.js";import"./index-zdTab9tW.js";import"./apl-CXdQSnD-.js";import"./asciiarmor-D5V0T9Cu.js";import"./asn1-DWPaVWf6.js";import"./brainfuck-CtZaYBKt.js";import"./cobol-stawOqaz.js";import"./clike-BgBwzOhw.js";import"./clojure-DiuoqK-z.js";import"./css-ZjFoif2m.js";import"./cmake-DXn5xaP-.js";import"./coffeescript-BTDxI-eT.js";import"./commonlisp-vq6DHwts.js";import"./cypher-gJDei3ni.js";import"./python-DD-Q2bae.js";import"./crystal-CRzZ78HM.js";import"./d-BShv7fp-.js";import"./diff-UJJ5BM9S.js";import"./dtd-DI9Herc-.js";import"./dylan-DkEP81N9.js";import"./ecl-DPFc0Uaf.js";import"./eiffel-DR5c0IrL.js";import"./elm-DompmV0j.js";import"./erlang-BuqgqA5h.js";import"./factor-CFXhaUWb.js";import"./simple-mode-C3vEBAcb.js";import"./forth-POgR1ypr.js";import"./fortran-DL7KluxX.js";import"./mllike-3c2dg9RT.js";import"./gas-bV0CklSb.js";import"./gherkin-B6X1vGSW.js";import"./groovy-DnIzCrpZ.js";import"./haskell-CLQs6EAM.js";import"./haxe-D25e-2l-.js";import"./idl-pcmmZuaN.js";import"./javascript-BpzJj0-u.js";import"./jinja2-DhgKlfW7.js";import"./julia-DjdwvFuI.js";import"./livescript-HO6ttBFx.js";import"./lua-8DXOpKDz.js";import"./mirc-DkvFAiy5.js";import"./mathematica-IIbmv7SK.js";import"./modelica-DSrSSXCg.js";import"./mumps-zvxmGV4l.js";import"./mbox-z_N2Mo3d.js";import"./nsis-BvKfQ9lQ.js";import"./ntriples-BSwWqoLa.js";import"./octave-C4hdQ5Hf.js";import"./oz-qQq7irPq.js";import"./pascal-CafrKXZF.js";import"./perl-tdMlh9QA.js";import"./pig-CwGJVRC4.js";import"./powershell-D1ly3AHC.js";import"./properties-_nPj978X.js";import"./protobuf-B4y9do6W.js";import"./pug-BTvK5tSS.js";import"./puppet-Bc-yJKzi.js";import"./q-B0kTJ4cI.js";import"./r-BA4EbLKE.js";import"./rpm-DI_rRufH.js";import"./ruby-CR-u2WLS.js";import"./sas-Bqaci40L.js";import"./scheme-qjP0V5Ag.js";import"./shell-BLav31RL.js";import"./sieve-r025o_jW.js";import"./smalltalk-C7J3IyEP.js";import"./sparql-BRLJFz69.js";import"./stylus-Bdo_Aemu.js";import"./swift-B_XXVlXX.js";import"./verilog-B4LBqg_1.js";import"./tcl-B2fODqDH.js";import"./textile-BuVhTOzU.js";import"./toml-wcPdHu67.js";import"./troff-Ce85hlLp.js";import"./ttcn-BxnYHtq8.js";import"./ttcn-cfg-CKJxb-l2.js";import"./turtle-BkSuIpt-.js";import"./webidl-CGwyPRYs.js";import"./vb-BHgjm0DN.js";import"./vbscript-Dawdd5GZ.js";import"./velocity-BdD_26Jv.js";import"./vhdl-CWWH2SUo.js";import"./xquery-CVDBqZPY.js";import"./yacas-I8QjZlxf.js";import"./z80-D8p3gKXp.js";import"./mscgen-B2igx18G.js";import"./index-PsA_OWtk.js";import"./trash-UWzp31DZ.js";import"./links-xiQ_O8X2.js";import"./_createAggregator-D2w-TTce.js";import"./_baseEach-b7jKF32j.js";import{__tla as gt}from"./loro_wasm_bg-C1ks32Vm.js";import"./_baseMap-DACTv_oG.js";let Ne,jt=Promise.all([(()=>{try{return pt}catch{}})(),(()=>{try{return bt}catch{}})(),(()=>{try{return ft}catch{}})(),(()=>{try{return gt}catch{}})()]).then(async()=>{const _e=s=>{const e=M.c(8),{variableName:t,className:a}=s;let o;e[0]!==t?(o=()=>{const p=(function(h){const i=Le.get(ae)[h];if(i)return i.declaredBy[0]})(t);if(!p)return;const N=Pe(p);N&&Ee(N,t)},e[0]=t,e[1]=o):o=e[1];const m=o;let r,x;return e[2]!==a?(r=K("text-link opacity-80 hover:opacity-100 hover:underline",a),e[2]=a,e[3]=r):r=e[3],e[4]!==m||e[5]!==r||e[6]!==t?(x=n.jsx("button",{type:"button",onClick:m,className:r,children:t}),e[4]=m,e[5]=r,e[6]=t,e[7]=x):x=e[7],x},ye=se(s=>{const e=s(Ae),t=s(ae),a=s(Ie);return je(e,o=>{if(!o.variable_name)return-1;const m=Object.values(t).find(x=>x.name===o.variable_name);if(!m)return 0;const r=a.inOrderIds.indexOf(m.declaredBy[0]);return r===-1?0:r})}),we=se(s=>{const e=new Map(s(Ve));for(const t of ne){const a=e.get(t);a&&(a.databases.length===0&&e.delete(t),a.databases.length===1&&a.databases[0].name===ze&&a.databases[0].schemas.length===0&&e.delete(t))}return je([...e.values()],t=>ne.has(t.name)?1:0)}),ve=()=>{const s=M.c(32),[e,t]=S.useState(""),a=re(oe),o=Q(ye),m=Q(we);if(o.length===0&&m.length===0){let d;return s[0]===Symbol.for("react.memo_cache_sentinel")?(d=n.jsx(xt,{title:"No tables found",description:"Any datasets/dataframes in the global scope will be shown here.",action:n.jsx(ge,{children:n.jsxs(W,{variant:"outline",size:"sm",children:["Add database or catalog",n.jsx(de,{className:"h-4 w-4 ml-2"})]})}),icon:n.jsx(ie,{})}),s[0]=d):d=s[0],d}const r=!!e.trim();let x,p,N,h,i,f,u,c,j,l;if(s[1]!==a?(x=d=>{a(d.length>0),t(d)},s[1]=a,s[2]=x):x=s[2],s[3]!==e||s[4]!==x?(p=n.jsx(Oe,{placeholder:"Search tables...",className:"h-6 m-1",value:e,onValueChange:x,rootClassName:"flex-1 border-r"}),s[3]=e,s[4]=x,s[5]=p):p=s[5],s[6]!==r?(N=r&&n.jsx("button",{type:"button",className:"float-right border-b px-2 m-0 h-full hover:bg-accent hover:text-accent-foreground",onClick:()=>t(""),children:n.jsx(Be,{className:"h-4 w-4"})}),s[6]=r,s[7]=N):N=s[7],s[8]===Symbol.for("react.memo_cache_sentinel")?(h=n.jsx(ge,{children:n.jsx("button",{type:"button",className:"float-right border-b px-2 m-0 h-full hover:bg-accent hover:text-accent-foreground",children:n.jsx(de,{className:"h-4 w-4"})})}),s[8]=h):h=s[8],s[9]!==p||s[10]!==N?(i=n.jsxs("div",{className:"flex items-center w-full",children:[p,N,h]}),s[9]=p,s[10]=N,s[11]=i):i=s[11],s[12]!==m||s[13]!==r||s[14]!==e){let d;s[16]!==r||s[17]!==e?(d=g=>n.jsx(Se,{connection:g,hasChildren:g.databases.length>0,children:g.databases.map(b=>n.jsx(Ce,{engineName:g.name,database:b,hasSearch:r,children:n.jsx($e,{schemas:b.schemas,defaultSchema:g.default_schema,defaultDatabase:g.default_database,engineName:g.name,databaseName:b.name,hasSearch:r,searchValue:e})},b.name))},g.name),s[16]=r,s[17]=e,s[18]=d):d=s[18],f=m.map(d),s[12]=m,s[13]=r,s[14]=e,s[15]=f}else f=s[15];return s[19]!==m.length||s[20]!==o.length?(u=m.length>0&&o.length>0&&n.jsxs(le,{children:[n.jsx(Me,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:"Python"})]}),s[19]=m.length,s[20]=o.length,s[21]=u):u=s[21],s[22]!==e||s[23]!==o?(c=o.length>0&&n.jsx(te,{tables:o,searchValue:e}),s[22]=e,s[23]=o,s[24]=c):c=s[24],s[25]!==f||s[26]!==u||s[27]!==c?(j=n.jsxs(Ke,{className:"flex flex-col",children:[f,u,c]}),s[25]=f,s[26]=u,s[27]=c,s[28]=j):j=s[28],s[29]!==i||s[30]!==j?(l=n.jsxs(Re,{className:"border-b bg-background rounded-none h-full pb-10 overflow-auto outline-hidden",shouldFilter:!1,children:[i,j]}),s[29]=i,s[30]=j,s[31]=l):l=s[31],l},Se=s=>{const e=M.c(26),{connection:t,children:a,hasChildren:o}=s,m=t.name===Ue,r=m?"In-Memory":t.name,{previewDataSourceConnection:x}=Ze(),[p,N]=S.useState(!1);let h;e[0]!==t.name||e[1]!==x?(h=async()=>{N(!0),await x({engine:t.name}),setTimeout(()=>N(!1),500)},e[0]=t.name,e[1]=x,e[2]=h):h=e[2];const i=h;let f,u,c;e[3]!==t.dialect?(f=n.jsx(Ge,{className:"h-4 w-4 text-muted-foreground",name:t.dialect}),e[3]=t.dialect,e[4]=f):f=e[4],e[5]!==t.dialect?(u=He(t.dialect),e[5]=t.dialect,e[6]=u):u=e[6],e[7]!==u?(c=n.jsx("span",{className:"text-xs",children:u}),e[7]=u,e[8]=c):c=e[8];const j=r;let l,d,g,b,_;return e[9]!==j?(l=n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",n.jsx(_e,{variableName:j}),")"]}),e[9]=j,e[10]=l):l=e[10],e[11]!==i||e[12]!==m||e[13]!==p?(d=!m&&n.jsx(X,{content:"Refresh connection",children:n.jsx(W,{variant:"ghost",size:"icon",className:"ml-auto hover:bg-transparent hover:shadow-none",onClick:i,children:n.jsx(Je,{className:K("h-4 w-4 text-muted-foreground hover:text-foreground",p&&"animate-[spin_0.5s]")})})}),e[11]=i,e[12]=m,e[13]=p,e[14]=d):d=e[14],e[15]!==f||e[16]!==c||e[17]!==l||e[18]!==d?(g=n.jsxs(le,{children:[f,c,l,d]}),e[15]=f,e[16]=c,e[17]=l,e[18]=d,e[19]=g):g=e[19],e[20]!==a||e[21]!==o?(b=o?a:n.jsx(Y,{content:"No databases available",className:"pl-2"}),e[20]=a,e[21]=o,e[22]=b):b=e[22],e[23]!==g||e[24]!==b?(_=n.jsxs(n.Fragment,{children:[g,b]}),e[23]=g,e[24]=b,e[25]=_):_=e[25],_},Ce=s=>{const e=M.c(28),{hasSearch:t,engineName:a,database:o,children:m}=s,[r,x]=S.useState(!1),[p,N]=S.useState(!1);let h,i,f;e[0]!==t?(h=()=>{x(t)},i=[t],e[0]=t,e[1]=h,e[2]=i):(h=e[1],i=e[2]),S.useEffect(h,i),e[3]!==r||e[4]!==p?(f=()=>{x(!r),N(!p)},e[3]=r,e[4]=p,e[5]=f):f=e[5];const u=`${a}:${o.name}`;let c;e[6]!==r?(c=n.jsx(xe,{isExpanded:r}),e[6]=r,e[7]=c):c=e[7];const j=p&&r?"text-foreground":"text-muted-foreground";let l,d;e[8]!==j?(l=K("h-4 w-4",j),e[8]=j,e[9]=l):l=e[9],e[10]!==l?(d=n.jsx(ie,{className:l}),e[10]=l,e[11]=d):d=e[11];const g=p&&r&&"font-semibold";let b,_,y,w;e[12]!==g?(b=K(g),e[12]=g,e[13]=b):b=e[13],e[14]!==o.name?(_=o.name===""?n.jsx("i",{children:"Not connected"}):o.name,e[14]=o.name,e[15]=_):_=e[15],e[16]!==b||e[17]!==_?(y=n.jsx("span",{className:b,children:_}),e[16]=b,e[17]=_,e[18]=y):y=e[18],e[19]!==y||e[20]!==f||e[21]!==u||e[22]!==c||e[23]!==d?(w=n.jsxs(ee,{className:"text-sm flex flex-row gap-1 items-center cursor-pointer rounded-none",onSelect:f,value:u,children:[c,d,y]}),e[19]=y,e[20]=f,e[21]=u,e[22]=c,e[23]=d,e[24]=w):w=e[24];const v=r&&m;let C;return e[25]!==w||e[26]!==v?(C=n.jsxs(n.Fragment,{children:[w,v]}),e[25]=w,e[26]=v,e[27]=C):C=e[27],C},$e=s=>{const e=M.c(20),{schemas:t,defaultSchema:a,defaultDatabase:o,engineName:m,databaseName:r,hasSearch:x,searchValue:p}=s;if(t.length===0){let i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=n.jsx(Y,{content:"No schemas available",className:"pl-6"}),e[0]=i):i=e[0],i}let N,h;if(e[1]!==r||e[2]!==o||e[3]!==a||e[4]!==m||e[5]!==x||e[6]!==t||e[7]!==p){let i;e[9]!==p?(i=c=>!p||c.tables.some(j=>j.name.toLowerCase().includes(p.toLowerCase())),e[9]=p,e[10]=i):i=e[10];const f=t.filter(i);let u;e[11]!==r||e[12]!==o||e[13]!==a||e[14]!==m||e[15]!==x||e[16]!==p?(u=c=>n.jsx(ke,{databaseName:r,schema:c,hasSearch:x,children:n.jsx(te,{tables:c.tables,searchValue:p,sqlTableContext:{engine:m,database:r,schema:c.name,defaultSchema:a,defaultDatabase:o}})},c.name),e[11]=r,e[12]=o,e[13]=a,e[14]=m,e[15]=x,e[16]=p,e[17]=u):u=e[17],N=f.map(u),e[1]=r,e[2]=o,e[3]=a,e[4]=m,e[5]=x,e[6]=t,e[7]=p,e[8]=N}else N=e[8];return e[18]!==N?(h=n.jsx(n.Fragment,{children:N}),e[18]=N,e[19]=h):h=e[19],h},ke=s=>{const e=M.c(26),{databaseName:t,schema:a,children:o,hasSearch:m}=s,[r,x]=S.useState(!1),[p,N]=S.useState(!1),h=`${t}:${a.name}`;let i,f,u,c;if(e[0]!==m?(i=()=>{x(m)},f=[m],e[0]=m,e[1]=i,e[2]=f):(i=e[1],f=e[2]),S.useEffect(i,f),be(a.name))return o;e[3]!==r||e[4]!==p?(u=()=>{x(!r),N(!p)},e[3]=r,e[4]=p,e[5]=u):u=e[5],e[6]!==r?(c=n.jsx(xe,{isExpanded:r}),e[6]=r,e[7]=c):c=e[7];const j=p&&r&&"text-foreground";let l,d;e[8]!==j?(l=K("h-4 w-4 text-muted-foreground",j),e[8]=j,e[9]=l):l=e[9],e[10]!==l?(d=n.jsx(dt,{className:l}),e[10]=l,e[11]=d):d=e[11];const g=p&&r&&"font-semibold";let b,_,y;e[12]!==g?(b=K(g),e[12]=g,e[13]=b):b=e[13],e[14]!==a.name||e[15]!==b?(_=n.jsx("span",{className:b,children:a.name}),e[14]=a.name,e[15]=b,e[16]=_):_=e[16],e[17]!==_||e[18]!==u||e[19]!==c||e[20]!==d||e[21]!==h?(y=n.jsxs(ee,{className:"text-sm flex flex-row gap-1 items-center pl-5 cursor-pointer rounded-none",onSelect:u,value:h,children:[c,d,_]}),e[17]=_,e[18]=u,e[19]=c,e[20]=d,e[21]=h,e[22]=y):y=e[22];const w=r&&o;let v;return e[23]!==y||e[24]!==w?(v=n.jsxs(n.Fragment,{children:[y,w]}),e[23]=y,e[24]=w,e[25]=v):v=e[25],v},te=s=>{const e=M.c(24),{tables:t,sqlTableContext:a,searchValue:o}=s,{addTableList:m}=me(),[r,x]=S.useState(!1),[p,N]=S.useState(!1);let h,i;e[0]!==m||e[1]!==a||e[2]!==t.length||e[3]!==r?(h=async()=>{if(t.length===0&&a&&!r){x(!0),N(!0);const{engine:l,database:d,schema:g}=a,b=await ut.request({engine:l,database:d,schema:g});if(!(b!=null&&b.tables))throw N(!1),new Error("No tables available");m({tables:b.tables,sqlTableContext:a}),N(!1)}},e[0]=m,e[1]=a,e[2]=t.length,e[3]=r,e[4]=h):h=e[4],e[5]!==a||e[6]!==t.length||e[7]!==r?(i=[t.length,a,r],e[5]=a,e[6]=t.length,e[7]=r,e[8]=i):i=e[8];const{isPending:f,error:u}=ce(h,i);if(f||p){let l;return e[9]===Symbol.for("react.memo_cache_sentinel")?(l=n.jsx(pe,{message:"Loading tables...",className:"pl-12"}),e[9]=l):l=e[9],l}if(u){let l;return e[10]!==u?(l=n.jsx(ue,{error:u,className:"pl-12"}),e[10]=u,e[11]=l):l=e[11],l}if(t.length===0){let l;return e[12]===Symbol.for("react.memo_cache_sentinel")?(l=n.jsx(Y,{content:"No tables found",className:"pl-9"}),e[12]=l):l=e[12],l}let c,j;if(e[13]!==o||e[14]!==a||e[15]!==t){let l;e[17]!==o?(l=b=>!o||b.name.toLowerCase().includes(o.toLowerCase()),e[17]=o,e[18]=l):l=e[18];const d=t.filter(l);let g;e[19]!==o||e[20]!==a?(g=b=>n.jsx(qe,{table:b,sqlTableContext:a,isSearching:!!o},b.name),e[19]=o,e[20]=a,e[21]=g):g=e[21],c=d.map(g),e[13]=o,e[14]=a,e[15]=t,e[16]=c}else c=e[16];return e[22]!==c?(j=n.jsx(n.Fragment,{children:c}),e[22]=c,e[23]=j):j=e[23],j},qe=s=>{const e=M.c(64),{table:t,sqlTableContext:a,isSearching:o}=s,{addTable:m}=me(),[r,x]=S.useState(!1),[p,N]=S.useState(!1),h=t.columns.length>0;let i,f;e[0]!==m||e[1]!==r||e[2]!==a||e[3]!==t.name||e[4]!==h||e[5]!==p?(i=async()=>{if(r&&!h&&a&&!p){N(!0);const{engine:P,database:H,schema:De}=a,J=await ht.request({engine:P,database:H,schema:De,tableName:t.name});if(!(J!=null&&J.table))throw new Error("No table details available");m({table:J.table,sqlTableContext:a})}},e[0]=m,e[1]=r,e[2]=a,e[3]=t.name,e[4]=h,e[5]=p,e[6]=i):i=e[6],e[7]!==r||e[8]!==h?(f=[r,h],e[7]=r,e[8]=h,e[9]=f):f=e[9];const{isFetching:u,isPending:c,error:j}=ce(i,f),l=Q(Qe),d=We(),{createNewCell:g}=Xe(),b=he();let _;e[10]!==b||e[11]!==l||e[12]!==g||e[13]!==d||e[14]!==a||e[15]!==t?(_=()=>{Ye({autoInstantiate:l,createNewCell:g,fromCellId:d}),b((()=>{if(t.source_type==="catalog"){const P=a!=null&&a.database?`${a.database}.${t.name}`:t.name;return`${t.engine}.load_table("${P}")`}if(a)return fe({table:t,columnName:"*",sqlTableContext:a});switch(t.source_type){case"local":return`mo.ui.table(${t.name})`;case"duckdb":case"connection":return fe({table:t,columnName:"*",sqlTableContext:a});default:return nt(t.source_type),""}})())},e[10]=b,e[11]=l,e[12]=g,e[13]=d,e[14]=a,e[15]=t,e[16]=_):_=e[16];const y=_;let w;e[17]!==t.num_columns||e[18]!==t.num_rows?(w=()=>{const P=[];return t.num_rows!=null&&P.push(`${t.num_rows} rows`),t.num_columns!=null&&P.push(`${t.num_columns} columns`),P.length===0?null:n.jsx("div",{className:"flex flex-row gap-2 items-center pl-6 group-hover:hidden",children:n.jsx("span",{className:"text-xs text-muted-foreground",children:P.join(", ")})})},e[17]=t.num_columns,e[18]=t.num_rows,e[19]=w):w=e[19];const v=w;let C;e[20]!==j||e[21]!==u||e[22]!==c||e[23]!==a||e[24]!==t?(C=()=>{if(c||u)return n.jsx(pe,{message:"Loading columns...",className:"pl-12"});if(j)return n.jsx(ue,{error:j,className:"pl-12"});const P=t.columns;return P.length===0?n.jsx(Y,{content:"No columns found",className:"pl-12"}):P.map(H=>n.jsx(Te,{table:t,column:H,sqlTableContext:a},H.name))},e[20]=j,e[21]=u,e[22]=c,e[23]=a,e[24]=t,e[25]=C):C=e[25];const L=C;let B;e[26]!==r||e[27]!==o||e[28]!==t.source_type||e[29]!==t.type?(B=()=>{if(t.source_type==="local")return;const P=t.type==="table"?et:tt;return n.jsx(P,{className:"h-3 w-3",strokeWidth:r||o?2.5:void 0})},e[26]=r,e[27]=o,e[28]=t.source_type,e[29]=t.type,e[30]=B):B=e[30];const A=B,I=a?`${a.database}.${a.schema}.${t.name}`:t.name,V=a&&(be(a.schema)?"pl-9":"pl-12"),z=(r||o)&&"font-semibold";let $,k,q,T,F,E,O,R,D,U,Z,G;return e[31]!==V||e[32]!==z?($=K("rounded-none group h-8 cursor-pointer",V,z),e[31]=V,e[32]=z,e[33]=$):$=e[33],e[34]!==r?(k=()=>x(!r),e[34]=r,e[35]=k):k=e[35],e[36]!==A?(q=A(),e[36]=A,e[37]=q):q=e[37],e[38]!==t.name?(T=n.jsx("span",{className:"text-sm",children:t.name}),e[38]=t.name,e[39]=T):T=e[39],e[40]!==q||e[41]!==T?(F=n.jsxs("div",{className:"flex gap-2 items-center flex-1",children:[q,T]}),e[40]=q,e[41]=T,e[42]=F):F=e[42],e[43]!==v?(E=v(),e[43]=v,e[44]=E):E=e[44],e[45]!==y?(O=at.stopPropagation(()=>y()),e[45]=y,e[46]=O):O=e[46],e[47]===Symbol.for("react.memo_cache_sentinel")?(R=n.jsx(st,{className:"h-3 w-3"}),e[47]=R):R=e[47],e[48]!==O?(D=n.jsx(X,{content:"Add table to notebook",delayDuration:400,children:n.jsx(W,{className:"group-hover:inline-flex hidden",variant:"text",size:"icon",onClick:O,children:R})}),e[48]=O,e[49]=D):D=e[49],e[50]!==r||e[51]!==k||e[52]!==F||e[53]!==E||e[54]!==D||e[55]!==$||e[56]!==I?(U=n.jsxs(ee,{className:$,value:I,"aria-selected":r,forceMount:!0,onSelect:k,children:[F,E,D]}),e[50]=r,e[51]=k,e[52]=F,e[53]=E,e[54]=D,e[55]=$,e[56]=I,e[57]=U):U=e[57],e[58]!==r||e[59]!==L?(Z=r&&L(),e[58]=r,e[59]=L,e[60]=Z):Z=e[60],e[61]!==U||e[62]!==Z?(G=n.jsxs(n.Fragment,{children:[U,Z]}),e[61]=U,e[62]=Z,e[63]=G):G=e[63],G},Te=s=>{var O,R;const e=M.c(51),{table:t,column:a,sqlTableContext:o}=s,[m,r]=S.useState(!1),x=Q(oe),p=re(rt);let N,h;e[0]!==x?(N=()=>{x&&r(!1)},h=[x],e[0]=x,e[1]=N,e[2]=h):(N=e[1],h=e[2]),S.useEffect(N,h),p(m?D=>new Set([...D,`${t.name}:${a.name}`]):D=>(D.delete(`${t.name}:${a.name}`),new Set(D)));const i=he(),{columnsPreviews:f}=ot();let u;e[3]!==a.name||e[4]!==t.primary_keys?(u=((O=t.primary_keys)==null?void 0:O.includes(a.name))||!1,e[3]=a.name,e[4]=t.primary_keys,e[5]=u):u=e[5];const c=u;let j;e[6]!==a.name||e[7]!==t.indexes?(j=((R=t.indexes)==null?void 0:R.includes(a.name))||!1,e[6]=a.name,e[7]=t.indexes,e[8]=j):j=e[8];const l=j;let d;e[9]!==i?(d=D=>{i(D)},e[9]=i,e[10]=d):d=e[10];const g=d,b=Fe,_=m?"font-semibold":"";let y;e[11]!==a.name||e[12]!==_?(y=n.jsx("span",{className:_,children:a.name}),e[11]=a.name,e[12]=_,e[13]=y):y=e[13];const w=y,v=`${t.name}.${a.name}`,C=`${t.name}.${a.name}`;let L;e[14]!==m?(L=()=>r(!m),e[14]=m,e[15]=L):L=e[15];const B=o?"pl-14":"pl-7";let A,I,V,z,$,k,q,T,F,E;return e[16]!==B?(A=K("flex flex-row gap-2 items-center flex-1",B),e[16]=B,e[17]=A):A=e[17],e[18]!==a.type||e[19]!==w?(I=n.jsx(lt,{columnName:w,dataType:a.type}),e[18]=a.type,e[19]=w,e[20]=I):I=e[20],e[21]!==c?(V=c&&b({tooltipContent:"Primary key",content:"PK"}),e[21]=c,e[22]=V):V=e[22],e[23]!==l?(z=l&&b({tooltipContent:"Indexed",content:"IDX"}),e[23]=l,e[24]=z):z=e[24],e[25]!==A||e[26]!==I||e[27]!==V||e[28]!==z?($=n.jsxs("div",{className:A,children:[I,V,z]}),e[25]=A,e[26]=I,e[27]=V,e[28]=z,e[29]=$):$=e[29],e[30]!==a.name?(k=n.jsx(X,{content:"Copy column name",delayDuration:400,children:n.jsx(W,{variant:"text",size:"icon",className:"group-hover:opacity-100 opacity-0 hover:bg-muted text-muted-foreground hover:text-foreground",children:n.jsx(mt,{tooltip:!1,value:a.name,className:"h-3 w-3"})})}),e[30]=a.name,e[31]=k):k=e[31],e[32]!==a.external_type?(q=n.jsx("span",{className:"text-xs text-muted-foreground",children:a.external_type}),e[32]=a.external_type,e[33]=q):q=e[33],e[34]!==L||e[35]!==$||e[36]!==k||e[37]!==q||e[38]!==v||e[39]!==C?(T=n.jsxs(ee,{className:"rounded-none py-1 group cursor-pointer",value:C,onSelect:L,children:[$,k,q]},v),e[34]=L,e[35]=$,e[36]=k,e[37]=q,e[38]=v,e[39]=C,e[40]=T):T=e[40],e[41]!==a||e[42]!==f||e[43]!==g||e[44]!==m||e[45]!==o||e[46]!==t?(F=m&&n.jsx("div",{className:"pl-10 pr-2 py-2 bg-(--slate-1) shadow-inner border-b",children:n.jsx(ct,{children:n.jsx(it,{table:t,column:a,onAddColumnChart:g,preview:f.get(o?`${o.database}.${o.schema}.${t.name}:${a.name}`:`${t.name}:${a.name}`),sqlTableContext:o})})}),e[41]=a,e[42]=f,e[43]=g,e[44]=m,e[45]=o,e[46]=t,e[47]=F):F=e[47],e[48]!==T||e[49]!==F?(E=n.jsxs(n.Fragment,{children:[T,F]}),e[48]=T,e[49]=F,e[50]=E):E=e[50],E};function Fe(s){const{tooltipContent:e,content:t}=s;return n.jsx(X,{content:e,delayDuration:100,children:n.jsx("span",{className:"text-xs text-black bg-gray-100 dark:invert rounded px-1",children:t})})}Ne=()=>{const s=M.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=n.jsx(ve,{}),s[0]=e):e=s[0],e}});export{jt as __tla,Ne as default};
